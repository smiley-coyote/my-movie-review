{"version":3,"sources":["images/profile-placeholder.png","utils/API.js","components/Grid/Col.js","components/Grid/Container.js","components/Grid/Row.js","components/Sidebar/Sidebar.js","components/Dropdown/Dropdown.js","components/Mainbody/Mainbody.js","components/TopMatches/TopMatches.js","components/MyCritics/MyCritics.js","pages/Home/Home.js","components/Questions/Questions.js","pages/Survey/Survey.js","components/Navbar/Navbar.js","components/MovieDisplay/MovieDisplay.js","components/Wrapper/Wrapper.js","components/Results/Results.js","pages/Movie/Movie.js","pages/Profile/Profile.js","pages/Search/Search.js","components/SignIn/index.js","components/SignUp/index.js","components/Jumbotron/Jumbotron.js","pages/NoMatch/NoMatch.js","pages/UserPage/UserPage.js","App.js","index.js"],"names":["module","exports","BASEURL","APIKEY","API","byTitle","query","movie","split","join","axios","get","byId","searchByTitle","singleByTitle","postResults","data","put","findUser","id","forTopMatches","post","submitRating","findRatingUser","addCritic","submitReview","uploadImage","submitTopFive","getMovieRatings","deleteCritic","delete","Col","_ref","size","children","react_default","a","createElement","className","map","Container","fluid","concat","Row","Sidebar","props","title","Dropdown","DropdownButton","MenuItem","onClick","handleSelection","selection","Mainbody","dropdown","components_Dropdown_Dropdown","TopMatches","undefined","topusers","res","key","_id","name","Link","to","lib","cloudName","publicId","image","width","height","gravity","crop","percentage","ratings","rating","review","MyCritics","date","username","imdbID","src","poster","alt","openingMovies","viewers","score","metacritic","reviewed","topBoxOffice","popularMovies","Home","state","currentuser","mycritics","usercurrentcritics","allusers","userscores","openingmovies","topboxoffice","popularmovies","currentratings","allRatings","topuserratings","button","criticratings","sortCriticRatings","criticRatings","sort","b","localeCompare","console","log","_this","setState","getUserCritics","critics","criticArr","newRatingsArr","_loop","i","criticId","then","userName","resultsNumber","Math","round","length","x","push","getTopUserRatings","topUsers","topUserRatings","thisTitle","thisRating","y","metaScore","runFindAll","userNumber","loadUser","auth","userId","userCritics","buttonClick","event","preventDefault","currentTarget","thisId","this","Container_Container","Row_Row","Col_Col","components_Sidebar_Sidebar","components_Mainbody_Mainbody","components_TopMatches_TopMatches","placeholder","Placeholder","components_MyCritics_MyCritics","Component","Questions","htmlFor","movies","Survey","question","number","selectValue","answers","redirect","questionNumber","handleInputChange","target","value","nextQuestion","addQuestion","Poster","endQuestions","surveyArr","survey","handleFormSubmit","answer","firstQuestion","handleRatingInputChange","thisid","getAttribute","_userId","Redirect","Questions_Questions","type","Navbar","search","handleInputSubmit","history","_event$target","Object","defineProperty","href","data-toggle","handleLogout","onChange","withRouter","MovieDisplay","Title","Plot","Rated","Genre","Released","Runtime","user","myCriticRating","Wrapper","Results","myCritics","Movie","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleReviewSubmit","writeup","window","location","thisMovie","filter","myscore","currentuserreview","show","getCriticScore","currentcriticratings","movieholder","criticRating","getUserRating","usercritics","criticReviews","thisRatings","currentcriticreviews","runSingleMovie","yourRatings","userRating","userReview","display","error","loadUserCritics","loadPage","myCriticReviews","writeups","currentUser","handleShow","bind","assertThisInitialized","handleClose","navsearch","results","userratings","_this2","components_MovieDisplay_MovieDisplay","Button","bsSize","Modal","onHide","Header","closeButton","Body","rows","Footer","Profile","handleUpload","userImage","userimage","runUserRatings","dateA","Date","topFive","movieOne","movieTwo","movieThree","movieFour","movieFive","topfive","showedit","handleUpdateMovies","handleDelete","topmovies","uploadedFile","uploadedFileCloudinaryUrl","modalDisplay","files","handleImageUpload","file","request","field","end","err","response","body","secure_url","_React$createElement","_this3","handClose","es","onDrop","onImageDrop","multiple","accept","Search","searchResults","yourRating","yourReview","runSearch","pathname","success","movieTitlePlus","plusTitle","movieSearch","components_Wrapper_Wrapper","components_Results_Results","result","Year","SignIn","handleChange","password","handleSubmit","SignUp","Jumbotron","NoMatch","components_Jumbotron_Jumbotron","role","aria-label","UserPage","App","isAuthenticated","newUser","_data$data","_result$data","loggedIn","BrowserRouter","components_Navbar_Navbar","Switch","Route","exact","path","render","components_SignIn","email","components_SignUp","pages_Home_Home","pages_Survey_Survey","pages_Movie_Movie","pages_Search_Search","pages_Profile_Profile","pages_UserPage_UserPage","component","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.06b531a1.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABy2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBJbWFnZVJlYWR5PC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqyI37xAAAF10lEQVR4Ae2cibKiMBBFEff//9Q3Ve44OclcJ/JwwXQQy/QUDwWS3JzuLGCYyc/Pn3NV7GUC9cspS0JPoABMDIQCsABMJJCYvERgAZhIIDF5icACMJFAYvJZYvosyc/n7rn9ZDLJUl5KpqMAGAMDUl3XFXvxgifXaFOFxwD0bQAFDQiz2ayaTqduEzjgXUeb4LE/nRq3nfwW5yOwQ+7fApBKE2Xz+dzBm/rPjyodIjJABXZVzaumaarj8VQdDgf/mTza4B/lm3p+UICAo4Kr1dJHXWplccJigSNmDuSx2u32vpmn5tsH6mAAgUdTXS4XT0Vcn0oAjGgmMoEIzKEgDjIPBB7g1uuVObwYNBFJGZRFmUNY3ghk9HT/VquVb2ZDVIgyFouFi8C62m637tv/0TxH+VkjEHhEBH3U0EaZlI0Lc1o2gDQhDRY5K3Avb/pcNORszlkAIphmRMf+bkMDWnJBNAeIUEZDOvKxGFrQlAOiOUCgjQmenJhLkylAPKz5mISPZU8Eos06Ck0BakI7FmhtHYzM1hNsM4Dq+3ggMFYjCq37QtPaMm0Yu1lrNAFI9NE0xhx9cqwemVn1hSYAEcd9KNvYzVqnWY0/IfrkXEutZgC5ef8Us9RqVmvr6UFOZ1hqNQSYs8q2ebd+bknK3AygG4aThAyZeJQR6O6RhmSQVJbVFAYRdhH4OfyS4LcTmwG09GpbpPV3S61mAJtzY13PbPnxe7KV2QE0FGVVuVv5jBIgyy0shd2qfOpxmi9arcwkApkWIOwTALKmBq1WUxkTgPLmwa0IGLuxasHSzADi0ZNb6DPmKEQbi5Gsog9HmAEkM5oGK6XGamhDo6WZAsSzh8PRr9uzFGmRF30f2iyjD12mAMkQD+/3ez6OytBkHX1U0BwgHqafGRNEtFj3fYoOc4BkDESt01NB79pr4aV101V9sgAMmU/c8rLdW/tD+j005IJHPbMBdEHo+5zNZuubjzw21J4mS9k5+r24Dsk/5HYJlMfZc56FjqxNGWq1FtOVsF76etH5Pa0xlD6fXwIoIQDiZ0L2Yav8fSYTVr5j2ofm3HiQOtZH6DPXogtwAJQepeMcWvlFzn30juWYNq57RVcvgBRGIbyawC/8dc0rCtfvdHANFdjvw6RVothznH6JaLReIaDBInYeUKRZLUB6dK5puIc/uW6G+WtzuZ7zz9jkmf8zAREYlV4swmr4R5kDimhgj0m48tJqKZyhc4/ybJ8nL/o6OeZWOcCjvEeGVhyv++VndD0EKA++ulwXQZrExoIEMjSrsOhHyy7i6+JKk4YtflNJ995xGmlmZSoO72sA3O521dlFZ5xvVz53ASIEzwGPir5qVDKeF8aiKEPG8estnOESrou3OI0+Ky9aClGXqlnTsFivytL+JkDEEBHr9fqhF5TZoz2eJSLVrLm+LU4QbuX1+3quDE7A2UScVf+Kls1m4yO+Xa70dQIkIYMD8FK8qELae/otYLLFwG6JbKdvpwmDWnjvrn1t6ndaDxAZbLr03RyFl8u0ZntPeKjw1IlaOO+GpzcaAWM4XXlQidBvMiXhLc+Mq8JcYFMWLJiUd9kvgFSACa9VM+gqVMeI8rqeX9YuUzYex9s0S/fVm2PmjGuv553hbMa//xZbwAImml/GJV4BpAJ4mNFraKNcRdfQZT9THoPS0bWW9otPv4ZWOmE8XeyagA+s+e8Xdi4AiT7a+1D3q9fyPuMbq/xhBCvZBSAHaOuQLtZNADbtseECkJPveKuyW+p4j7bfNfEA1XwJz2L3CcAoPNEJzfhCrB2a97P57rPMP2UeIM33macVSvTt+2n0BKkOzTdMUr8dzLP1n7pmzFTPsyMRD0bL6PssvnAdzDDfhMvgEaD0+ctAgvm/+tIng2+/VkFX03RL8+0fDuLmQBaA/fGFB8H+6RDvjZUI7I8wRKB/FlnuffvjCyn+RWAB+CpAotAPIq9m8O3pCsDECCgALQDyY02xVwlMqr9I15+NL+S47gAAAABJRU5ErkJggg==\"","import axios from \"axios\";\n\nconst BASEURL = \"https://www.omdbapi.com/\";\nconst APIKEY = \"&apikey=65d98e81\";\n\nexport default {\n  // OMDB API call by title\n  byTitle: function(query) {\n    let movie = query;\n    movie = movie.split(\" \");\n    movie = movie.join(\"+\")\n    return axios.get(BASEURL + \"?t=\" + movie + \"&y=&plot=short\" + APIKEY);\n  },\n  // OMDB API call by id\n  byId: function(query) {\n    let movie = query;\n    return axios.get(BASEURL + \"?i=\" + movie + \"&y=&plot=short\" + APIKEY);\n  },\n  // OMDB API movie search\n  searchByTitle: function(query){\n    return axios.get(BASEURL + \"?s=\" + query + \"&y&type=movie\" + APIKEY)\n  },\n  // Get movie info from OMDB\n  singleByTitle: function(movie){\n    return axios.get(BASEURL + \"?t=\" + movie + \"&y=&plot=short\" + APIKEY);\n  },\n  // post initial survey results\n  postResults: function(data) {\n    return axios.put(\"/api/user/results/\", data);\n  },\n  // get user info\n  findUser: function(id) {\n    return axios.get(\"/api/user/\" + id);\n  },\n  forTopMatches: function(data){\n    return axios.post(\"/api/user/all\", data)\n  },\n  submitRating: function(data){\n    return axios.post(\"/api/rating\", data)\n  },\n  findRatingUser: function(id){\n    return axios.get(\"/api/rating/\" + id)\n  },\n  // getRatings: function(data){\n  //   return axios.get(\"/api/rating/\" + data)\n  // },\n  addCritic: function(data){\n    return axios.post(\"/api/critic\", data);\n  },\n  submitReview: function(data){\n    return axios.put(\"/api/rating/writeup\", data)\n  },\n  uploadImage: function(data){\n    return axios.put(\"/api/user\", data);\n  },\n  submitTopFive: function(data){\n    return axios.put(\"/api/user/topfive\", data)\n  },\n  getMovieRatings: function(data){\n    return axios.post(\"/api/rating/all\" , data)\n  },\n  deleteCritic: function(id){\n    return axios.delete(\"/api/critic/\" + id);\n  }\n};","import React from \"react\";\nimport \"./Grid.css\"\n\nexport const Col = ({ size, children }) => (\n  <div id=\"col\" className={size.split(\" \").map(size => \"col-\" + size).join(\" \")}>\n    {children}\n  </div>\n);\n","import React from \"react\";\n\nexport const Container = ({ fluid, children }) => (\n  <div className={`container${fluid ? \"-fluid\" : \"\"}`}>\n    {children}\n  </div>\n);\n","import React from \"react\";\n\nexport const Row = ({ fluid, children }) => (\n  <div className={`row${fluid ? \"-fluid\" : \"\"}`}>\n    {children}\n  </div>\n);\n","import \"./Sidebar.css\";\nimport React from \"react\";\n\nconst Sidebar = props => (\n  <div className=\"sidebar panel\">\n  <div className=\"panel-heading\">\n    <h3 className=\"panel-title\"><strong>{props.title}</strong></h3>\n  </div>\n  <div className=\"panel-body\">\n\n{props.children}\n\n  </div>\n</div>\n\n)\n\nexport default Sidebar;","import React from \"react\";\nimport { DropdownButton, MenuItem } from 'react-bootstrap';\nimport \"./Dropdown.css\";\n\nconst Dropdown = props => {\n  return (\n    <DropdownButton id={props.title} className=\"drop-down-btn\" title={props.title}>\n      <MenuItem onClick={props.handleSelection}>{props.selection}</MenuItem>\n    </DropdownButton>\n  );\n}\n\nexport default Dropdown;","import \"./Mainbody.css\";\nimport React from \"react\";\nimport Dropdown from \"../Dropdown\"\n\nconst Mainbody = props => (\n  <div className=\"mainbody panel\">\n  <div className=\"panel-heading\">\n  {props.dropdown\n  ?  <Dropdown handleSelection={props.handleSelection} selection={props.selection} id={props.title} title={props.title}/>\n  : <h3 className=\"panel-title\"><strong>My Reviews</strong></h3>\n  }\n   \n  </div>\n  <div className=\"panel-body\">\n  <div className=\"body-contents\">\n{props.children}\n</div>\n  </div>\n</div>\n\n)\n\nexport default Mainbody;","import \"./TopMatches.css\";\nimport React from \"react\";\nimport { Image, Transformation } from 'cloudinary-react';\nimport { Link } from \"react-router-dom\";\n\nconst TopMatches = props => (\n\n  <div>\n  {props.topusers !== undefined\n  ?<div className=\"black-border padding-xs\">\n  {props.topusers.map(res =>\n      \n    <div className=\"top-matches\" key={res._id}>\n      <fieldset onClick={props.addCritic} name={res.name} id={res._id}>\n        <div>\n          <div className=\"float-left\">\n          <Link to={\"/user/\" + res._id}>\n            <Image cloudName=\"dmyiazu6p\" publicId={res.image}>\n              <Transformation width=\"100\" height=\"100\" gravity=\"faces\" crop=\"fill\" />\n            </Image>\n            </Link>\n            <p>{res.name}</p>\n            <p>{res.percentage}% match</p>\n          </div>\n          <div className=\"content\">\n            {res.ratings[0] !== undefined\n              ? <div className=\"latest-rating\">\n                <p className=\"heading\">Latest Review</p>\n                <p>{res.ratings[0].title}</p>\n                {res.ratings[0].rating === 1\n                  ? <p>\n                    <span className=\"fa fa-star checked\"></span>\n                    <span className=\"fa fa-star\"></span>\n                    <span className=\"fa fa-star\"></span>\n                    <span className=\"fa fa-star\"></span>\n                  </p>\n                  : res.ratings[0].rating === 2\n                    ? <p><span className=\"fa fa-star checked\"></span>\n                      <span className=\"fa fa-star checked\"></span>\n                      <span className=\"fa fa-star\"></span>\n                      <span className=\"fa fa-star\"></span></p>\n                    : res.ratings[0].rating === 3\n                      ? <p><span className=\"fa fa-star checked\"></span>\n                        <span className=\"fa fa-star checked\"></span>\n                        <span className=\"fa fa-star checked\"></span>\n                        <span className=\"fa fa-star\"></span></p>\n                      : res.ratings[0].rating === 4\n                        ? <p><span className=\"fa fa-star checked\"></span>\n                          <span className=\"fa fa-star checked\"></span>\n                          <span className=\"fa fa-star checked\"></span>\n                          <span className=\"fa fa-star checked\"></span></p>\n                        : <p>Rating Unavailable</p>\n                }\n                {res.ratings[0].review !== undefined\n                  ? <div className=\"overflow-scroll height-med\"><p >\n                    {res.ratings[0].review}\n                  </p>\n                  </div>\n                  : <p>\n                    No written review\n            </p>\n                }\n              </div>\n              : <p>No ratings for this user</p>\n            }\n          </div>\n\n        </div>\n        <div className=\"float-right margin-top-md\">\n          <button>Add Critic</button>\n        </div>\n      </fieldset>\n      <hr />\n    </div>\n  )}\n  </div>\n  : <div>\n    <p>data not available</p>\n    </div>\n  }\n    \n\n  </div>\n);\n\nexport default TopMatches;","import \"./MyCritics.css\";\nimport React from \"react\";\nimport { Image, Transformation } from 'cloudinary-react';\nimport { Link } from \"react-router-dom\";\n\n\nconst MyCritics = props => (\n\n  <div>\n    {props.ratings.map(res =>\n      <div className=\"top-matches my-critics-page\" key={res.date}>\n\n        <div className=\"my-critics\">\n        <Link to={\"/user/\" + res.id}>\n        <Image cloudName=\"dmyiazu6p\" publicId={res.image}>\n                  <Transformation width=\"100\" height=\"100\" gravity=\"faces\" crop=\"fill\" />\n                </Image>\n                \n                </Link>\n                \n        </div>\n        \n        <div className=\"mycritic-content\">\n        <p>{res.username}'s review:</p>\n        <Link to={\"/movie/?q=\" + res.imdbID}>\n          <img src={res.poster} alt={res.title} />\n        </Link>\n  \n          <h3>{res.title}</h3>\n\n          <div className=\"latest-rating\">\n\n            <p className=\"heading\">Rating:</p>\n\n            {res.rating === 1\n\n              ? <p>\n                <span className=\"fa fa-star checked\"></span>\n                <span className=\"fa fa-star\"></span>\n                <span className=\"fa fa-star\"></span>\n                <span className=\"fa fa-star\"></span>\n              </p>\n              : res.rating === 2\n                ? <p><span className=\"fa fa-star checked\"></span>\n                  <span className=\"fa fa-star checked\"></span>\n                  <span className=\"fa fa-star\"></span>\n                  <span className=\"fa fa-star\"></span></p>\n                : res.rating === 3\n                  ? <p><span className=\"fa fa-star checked\"></span>\n                    <span className=\"fa fa-star checked\"></span>\n                    <span className=\"fa fa-star checked\"></span>\n                    <span className=\"fa fa-star\"></span></p>\n                  : res.rating === 4\n                    ? <p><span className=\"fa fa-star checked\"></span>\n                      <span className=\"fa fa-star checked\"></span>\n                      <span className=\"fa fa-star checked\"></span>\n                      <span className=\"fa fa-star checked\"></span></p>\n                    : <p>Rating Unavailable</p>\n            }\n            {res.review !== undefined\n              ? <p>\n                {res.review}\n              </p>\n              : <p>\n                No written review\n          </p>\n            }\n          </div>\n        </div>\n      \n      <hr />\n      </div>\n  )}\n\n\n  </div>\n);\n\nexport default MyCritics;","import React, { Component } from \"react\";\nimport \"./Home.css\"\n// import { Questions, QuestionsBtn, Stars } from \"../../components/Questions\"\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport Sidebar from \"../../components/Sidebar\";\nimport Mainbody from \"../../components/Mainbody\";\nimport TopMatches from \"../../components/TopMatches\";\nimport MyCritics from \"../../components/MyCritics\"\nimport Placeholder from \"../../images/profile-placeholder.png\";\nimport { Image, Transformation } from 'cloudinary-react';\nimport { Link } from \"react-router-dom\";\n\n\n\nlet userCritics = [];\nconst openingMovies = [\n  {\n    title: \"Bohemian Rhapsody\",\n    id: \"tt1727824\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 50,\n    reviewed: false\n  },\n  {\n    title: \"Boy Erased\",\n    id: \"tt7008872\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 68,\n    reviewed: false\n  },\n  {\n    title: \"The Hate U Give\",\n    id: \"tt5580266\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 82,\n    reviewed: false\n  }\n];\nconst topBoxOffice = [\n  {\n    title: \"Halloween\",\n    id: \"tt1502407\",\n    viewers: 0,\n    score: 0,\n    percentage: 35,\n    metacritic: 66,\n    reviewed: false\n  },\n  {\n    title: \"A Star Is Born\",\n    id: \"tt1517451\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 88,\n    reviewed: false\n  },\n  {\n    title: \"Venom\",\n    id: \"tt1270797\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 35,\n    reviewed: false\n  },\n  {\n    title: \"Goosebumps 2...\",\n    id: \"tt5664636\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 53,\n    reviewed: false\n  },\n  {\n    title: \"Hunter Killer\",\n    id: \"tt1846589\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 42,\n    reviewed: false\n  }\n];\nconst popularMovies = [\n  {\n    title: \"Black Panther\",\n    id: \"tt1825683\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 88,\n    reviewed: false\n  },\n  {\n    title: \"Avengers: Infinity War\",\n    id: \"tt4154756\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 68,\n    reviewed: false\n  },\n  {\n    title: \"Crazy Rich Asians\",\n    id: \"tt3104988\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 74,\n    reviewed: false\n  },\n  {\n    title: \"Deadpool 2\",\n    id: \"tt5463162\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 66,\n    reviewed: false\n  },\n  {\n    title: \"Jurassic World: Fallen...\",\n    id: \"tt4881806\",\n    viewers: 0,\n    score: 0,\n    percentage: 0,\n    metacritic: 51,\n    reviewed: false\n  }\n]\n\nclass Home extends Component {\n\n\n  state = {\n    currentuser: {},\n    mycritics: [],\n    usercurrentcritics: [],\n    allusers: [],\n    userscores: [],\n    topusers: [],\n    openingmovies: [],\n    topboxoffice: [],\n    popularmovies: [],\n    currentratings: [],\n    allRatings: [],\n    topuserratings: [],\n    button: false,\n    title: \"Top Matches\",\n    selection: \"My Critics\",\n    criticratings: [],\n    dropdown: true\n  };\n\n\n\n  sortCriticRatings = ratings => {\n\n    let criticRatings = ratings;\n    criticRatings.sort((a, b) => a.date.localeCompare(b.date))\n    console.log(criticRatings)\n    this.setState({\n      topuserratings: criticRatings\n    })\n  }\n\n\n\n  getUserCritics = critics => {\n    let criticArr = critics;\n    let newRatingsArr = []\n    console.log(criticArr)\n    for (let i = 0; i < criticArr.length; i++) {\n      API.findUser(criticArr[i].criticId).then(res => {\n        let userName = res.data.name;\n        let image = res.data.image;\n        let id = res.data._id\n        console.log(res.data)\n        criticArr[i].image = res.data.image;\n        criticArr[i].ratings = res.data.ratings;\n        let resultsNumber = Math.round(res.data.ratings.length / 2)\n        if (newRatingsArr.length < 20) {\n          for (let x = 0; x < resultsNumber; x++) {\n            newRatingsArr.push({\n              image: image,\n              username: userName,\n              id: id,\n              imdbID: res.data.ratings[x].imdbID,\n              poster: res.data.ratings[x].poster,\n              rating: res.data.ratings[x].rating,\n              title: res.data.ratings[x].title,\n              date: res.data.ratings[x].date,\n              review: res.data.ratings[x].review\n            })\n          }\n        }\n      })\n    }\n\n    console.log(criticArr)\n    console.log(newRatingsArr)\n    this.setState({ mycritics: criticArr })\n\n    this.sortCriticRatings(newRatingsArr);\n  }\n  getTopUserRatings = () => {\n    let topUsers = this.state.topusers\n\n    // opening movies\n    for (let i = 0; i < topUsers.length; i++) {\n      if (topUsers[i].ratings !== null) {\n        let topUserRatings = topUsers[i].ratings\n        for (let x = 0; x < topUserRatings.length; x++) {\n          let thisTitle = topUserRatings[x].imdbID\n          let thisRating = topUserRatings[x].rating\n          for (let y = 0; y < openingMovies.length; y++) {\n            if (openingMovies[y].id === thisTitle) {\n              let score = openingMovies[y].score;\n              let viewers = openingMovies[y].viewers;\n              let percentage = openingMovies[y].percentage;\n              openingMovies[y].reviewed = true;\n              if (thisRating > 2) {\n                score += 1;\n                viewers += 1;\n                percentage = (score / viewers) * 100\n                percentage = Math.round(percentage)\n                openingMovies[y].score = score;\n                openingMovies[y].viewers = viewers;\n                openingMovies[y].percentage = percentage;\n              } else {\n                viewers += 1;\n                percentage = (score / viewers) * 100\n                percentage = Math.round(percentage)\n                openingMovies[y].score = score;\n                openingMovies[y].viewers = viewers;\n                openingMovies[y].percentage = percentage;\n              }\n            } if (!openingMovies[y].reviewed) {\n              let metaScore = openingMovies[y].metacritic\n              openingMovies[y].percentage = \"*\" + metaScore\n            }\n          }\n        }\n\n\n      }\n    }\n    console.log(openingMovies)\n    this.setState({ openingmovies: openingMovies })\n    // Top box office movies\n    for (let i = 0; i < topUsers.length; i++) {\n      if (topUsers[i].ratings !== null) {\n        let topUserRatings = topUsers[i].ratings\n        for (let x = 0; x < topUserRatings.length; x++) {\n          let thisTitle = topUserRatings[x].imdbID\n          let thisRating = topUserRatings[x].rating\n          for (let y = 0; y < topBoxOffice.length; y++) {\n            if (topBoxOffice[y].id === thisTitle) {\n              let score = topBoxOffice[y].score;\n              let viewers = topBoxOffice[y].viewers;\n              let percentage = topBoxOffice[y].percentage;\n              topBoxOffice[y].reviewed = true;\n              if (thisRating > 2) {\n                score += 1;\n                viewers += 1;\n                percentage = (score / viewers) * 100\n                percentage = Math.round(percentage)\n                topBoxOffice[y].score = score;\n                topBoxOffice[y].viewers = viewers;\n                topBoxOffice[y].percentage = percentage;\n              } else {\n                viewers += 1;\n                percentage = (score / viewers) * 100\n                percentage = Math.round(percentage)\n                topBoxOffice[y].score = score;\n                topBoxOffice[y].viewers = viewers;\n                topBoxOffice[y].percentage = percentage;\n              }\n            } if (!topBoxOffice[y].reviewed) {\n              let metaScore = topBoxOffice[y].metacritic\n              topBoxOffice[y].percentage = \"*\" + metaScore\n            }\n          }\n\n        }\n\n\n      }\n    }\n    console.log(topBoxOffice)\n    this.setState({ topboxoffice: topBoxOffice })\n    // Popular Movies\n    for (let i = 0; i < topUsers.length; i++) {\n      if (topUsers[i].ratings !== null) {\n        let topUserRatings = topUsers[i].ratings\n        for (let x = 0; x < topUserRatings.length; x++) {\n          let thisTitle = topUserRatings[x].imdbID\n          let thisRating = topUserRatings[x].rating\n          for (let y = 0; y < popularMovies.length; y++) {\n            if (popularMovies[y].id === thisTitle) {\n              let score = popularMovies[y].score;\n              let viewers = popularMovies[y].viewers;\n              let percentage = popularMovies[y].percentage;\n              popularMovies[y].reviewed = true;\n              if (thisRating > 2) {\n                score += 1;\n                viewers += 1;\n                percentage = (score / viewers) * 100\n                percentage = Math.round(percentage)\n                popularMovies[y].score = score;\n                popularMovies[y].viewers = viewers;\n                popularMovies[y].percentage = percentage;\n              } else {\n                viewers += 1;\n                percentage = (score / viewers) * 100\n                percentage = Math.round(percentage)\n                popularMovies[y].score = score;\n                popularMovies[y].viewers = viewers;\n                popularMovies[y].percentage = percentage;\n              }\n            } if (!popularMovies[y].reviewed) {\n              let metaScore = popularMovies[y].metacritic\n              popularMovies[y].percentage = \"*\" + metaScore\n            }\n          }\n        }\n\n\n      }\n    }\n    console.log(popularMovies)\n    this.setState({\n      popularmovies: popularMovies\n    })\n  }\n\n  runFindAll = () => {\n    API.forTopMatches(this.state.currentuser)\n      .then(res => {\n\n        let topUsers = [];\n        let userNumber;\n\n        userNumber = Math.round(res.data.length / 2)\n        for (let i = 0; i < userNumber; i++) {\n          topUsers.push(res.data[i]);\n        }\n\n        if (res.data.length > 4) {\n          this.setState({\n            topusers: topUsers,\n            allusers: res.data,\n            userscores: res.data\n          })\n\n          this.getTopUserRatings();\n        }\n      })\n\n  }\n\n\n\n  loadUser = () => {\n\n    API.findUser(this.props.auth.userId).then(res => {\n      let userCritics = res.data.critics\n      this.getUserCritics(userCritics);\n      this.setState({\n        currentuser: res.data,\n        usercurrentcritics: userCritics\n      })\n      this.runFindAll()\n    }\n\n    )\n\n\n  }\n\n  componentDidMount() {\n\n    this.loadUser();\n\n  }\n\n  buttonClick = () => {\n    if (!this.state.button) {\n      this.setState({\n        button: true\n      })\n    } else {\n      this.setState({\n        button: false\n      })\n    }\n  }\n\n  addCritic = event => {\n    event.preventDefault();\n\n    const criticId = event.currentTarget.id;\n    const thisId = this.props.auth.userId\n    const name = event.currentTarget.name;\n    API.addCritic({\n      username: name,\n      userId: thisId,\n      criticId: criticId\n\n    }).then(res => {\n      this.loadUser();\n    }\n    )\n  }\n\n  handleSelection = event => {\n    event.preventDefault();\n    if (this.state.title === \"Top Matches\") {\n      this.setState({\n        title: \"My Critics\",\n        selection: \"Top Matches\"\n      })\n    }\n    if (this.state.title === \"My Critics\") {\n      this.setState({\n        title: \"Top Matches\",\n        selection: \"My Critics\"\n      })\n    }\n  }\n  render() {\n    return (\n      <Container>\n        <Row>\n          <Col size=\"md-3\">\n            <Sidebar title={\"Top Movies\"}>\n\n              <div className=\"top-movies black-border\">\n\n                <h3>Opening This Week</h3>\n                <ol>\n                  {this.state.openingmovies.map(res =>\n                    <Link key={res.id} to={\"/movie/?q=\" + res.id}><li>{res.percentage}% {res.title}</li></Link>\n                  )}\n                </ol>\n                <h3>Top Box Office</h3>\n                <ol>\n                  {this.state.topboxoffice.map(res =>\n                    <Link key={res.id} to={\"/movie/?q=\" + res.id}><li>{res.percentage}% {res.title}</li></Link>\n                  )}\n                </ol>\n                <h3>Popular Movies</h3>\n                <ol>\n                  {this.state.popularmovies.map(res =>\n                    <Link key={res.id} to={\"/movie/?q=\" + res.id}><li>{res.percentage}% {res.title}</li></Link>\n                  )}\n                </ol>\n\n                <p className=\"asterisk\">*Metacritic score</p>\n\n              </div>\n\n\n\n\n\n\n            </Sidebar>\n          </Col>\n          <Col size=\"md-6\">\n            <Mainbody\n              selection={this.state.selection}\n              title={this.state.title}\n              handleSelection={this.handleSelection}\n              dropdown={this.state.dropdown}\n            >\n              {this.state.title === \"Top Matches\"\n                ? this.state.topusers.length > 4\n                  ? <TopMatches\n                    topusers={this.state.topusers}\n                    addCritic={this.addCritic}\n                    placeholder={Placeholder}\n                  />\n                  : <div>\n                    <p>Loading users...</p>\n                  </div>\n                : <MyCritics ratings={this.state.topuserratings} critics={this.state.mycritics} />\n              }\n\n            </Mainbody>\n          </Col>\n          <Col size=\"md-3\">\n            <Sidebar title={\"Welcome, \" + this.state.currentuser.name + \"!\"}>\n              <div className=\"black-border padding-xs\">\n                <Link to={\"/profile\"}>\n\n                  <Image cloudName=\"dmyiazu6p\" publicId={this.state.currentuser.image}>\n                    <Transformation width=\"150\" height=\"150\" gravity=\"faces\" crop=\"fill\" />\n                  </Image>\n                </Link>\n                <div className=\"text-center\">\n                  <Link to={\"/profile\"}>View profile</Link>\n                </div>\n              </div>\n            </Sidebar>\n          </Col>\n        </Row>\n      </Container>\n    )\n  }\n\n\n\n};\n\nexport default Home;\n\n\n","import React from \"react\";\n\nexport const Questions = props => (\n  <form>\n  <div className=\"form-group\">\n    <label htmlFor=\"exampleFormControlInput1\">{props.children}</label>\n  </div>\n</form>\n)","import React, { Component } from \"react\";\nimport {Questions} from \"../../components/Questions\"\nimport API from \"../../utils/API\";\nimport \"./Survey.css\"\nimport { Redirect } from \"react-router-dom\";\n\nconst movies = [\"Pulp Fiction\", \"Fifty Shades of Grey\", \"Lost In Translation\",\n\"2001: A Space Odyssey\", \"The Witch\", \"Jurassic World\", \"La La Land\", \"Mad Max: Fury Road\",\n\"Cabin In The Woods\", \"Twilight\", \"Transformers\", \"Interstellar\", \"Gravity\", \"The Tree of Life\",\n\"Monty Python and the Holy Grail\"];\nclass Survey extends Component {\n  \n  state = {\n    question: \"\",\n    number: -1,\n    selectValue: \"1\",\n    image: \"\",\n    answers: [],\n    id: \"\",\n    currentuser: {},\n    redirect: false,\n    questionNumber: 1\n  };\n  handleInputChange = event => {\n    // const { name, value } = event.target;\n    this.setState({\n      selectValue: event.target.value\n    });\n  };\n\n  nextQuestion = () => {\n    let addQuestion = this.state.questionNumber\n    addQuestion += 1\n    let x = this.state.number;\n    API.byTitle(movies[x]).then( res => {\n      console.log(res.data)\n      let poster = res.data.Poster\n      this.setState({\n        question: movies[x],\n        image: poster,\n        id: res.data.imdbID,\n        questionNumber: addQuestion\n      })\n    })\n  }\n\n  endQuestions = () => {\n    const surveyArr = this.state.answers;\n    console.log(surveyArr);\n    API.postResults({\n      id: this.props.auth.userId,\n      survey: surveyArr\n    }).then( res => {\n      this.setState({redirect: true})\n    })\n    \n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    if(this.state.number < 14) {\n      const answer = this.state.selectValue;\n      const answers = this.state.answers.map( answers => answers)\n      answers.push(answer);\n    this.setState({\n      number: this.state.number += 1,\n      answers: answers\n    })\n    this.nextQuestion()\n  } else {\n    this.endQuestions();\n  }\n  }\n\n  firstQuestion = () => {\n    API.byTitle(\"Avatar\").then( res => {\n      let poster = res.data.Poster\n      let id = res.data.imdbID\n      this.setState({\n        question: \"Avatar\",\n        image: poster,\n        id: id\n      })\n    })\n  }\n\n  loadUser = () =>{\n    API.findUser(this.props.auth.userId).then(res =>{\n      console.log(res.data);\n      this.setState({\n        currentuser: res.data\n      })\n    })\n    this.firstQuestion();\n  }\n\n  componentDidMount() {\n    this.loadUser();\n    \n  }\n\n  handleRatingInputChange = event => {\n    event.preventDefault();\n    const thisid = event.currentTarget.name;\n    const value = event.target.htmlFor;\n    const title = event.currentTarget.id;\n    const poster = event.currentTarget.getAttribute(\"image\");\n    const username = this.state.currentuser.name;\n    const id = this.props.auth.userId;\n    API.submitRating({\n      _userId: id,\n      imdbID: thisid,\n      rating: value,\n      title: title,\n      poster: poster,\n      username: username\n    }).then(res => console.log(res.data))\n\n    this.setState({\n      title: thisid,\n      rating: value\n    })\n\n    if(this.state.number < 14) {\n      const answer = value;\n      const answers = this.state.answers.map( answers => answers)\n      answers.push(answer);\n    this.setState({\n      number: this.state.number += 1,\n      answers: answers\n    })\n    this.nextQuestion()\n  } else {\n    this.endQuestions();\n  }\n\n    // this.getRatings();\n\n  };\n\n  \n  render() {\n    const { redirect } = this.state;\n\n     if (redirect) {\n       return <Redirect to='/home'/>;\n     }\n    return ( \n    <div className=\"container\">\n    \n    <div className=\"survey-questions\">\n    <div className=\"question-number\">\n    <h3>Building your profile...</h3>\n    <h3>Question {this.state.questionNumber} of 16</h3>\n    </div>\n       <Questions>\n         <img className=\"survey-poster\" src={this.state.image} alt={this.state.question} />\n         <br />\n      <h1>{this.state.question}</h1>\n       </Questions>\n       <div className=\"star-buttons\">\n        <fieldset className=\"rating-survey\" image={this.state.image} id={this.state.question} name={this.state.id} onClick={this.handleRatingInputChange}>\n                <h3>Please rate:</h3>\n                \n                <input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" /><label htmlFor=\"4\"></label>\n                <input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" /><label htmlFor=\"3\"></label>\n                <input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" /><label htmlFor=\"2\"></label>\n                <input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" /><label htmlFor=\"1\"></label>\n             \n              </fieldset>\n              </div>\n     </div>\n     \n   \n    \n    {/* <QuestionsBtn onClick={this.handleFormSubmit}>Submit</QuestionsBtn> */}\n  </div>\n    )\n  }\n}\n\n\nexport default Survey;\n","import React, { Component } from \"react\";\nimport \"./Navbar.css\"\nimport { Link } from \"react-router-dom\";\nimport {withRouter} from 'react-router-dom';\n\nclass Navbar extends Component {\n\n  state = {\n    search: \"\"\n  }\n\n\n  handleInputSubmit = event => {\n    event.preventDefault();\n    let title = this.state.search;\n    title = title.split(\" \");\n    title = title.join(\"+\")\n    this.props.history.push(\"/search/\" + title);\n    \n  }\n\n  handleInputChange = event => {\n    let { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  render() {\n    return (\n      <nav className=\"navbar navbar-expand-lg\">\n     \n        <div className=\"container-fluid\">\n          <div className=\"navbar-header\">\n            <a className=\"navbar-brand\" href=\"/home\"><span className=\"mcr-logo\">My Critic Review</span></a>\n          </div>\n          \n          <ul className=\"nav navbar-nav\">\n            <li className=\"dropdown\">\n              <a className=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"/home\">Menu\n        <span className=\"caret\"></span></a>\n              <ul className=\"dropdown-menu\">\n                <li><Link to={\"/home\"}>Home</Link></li>\n                <li><Link to={\"/profile\"}>Profile</Link></li>\n                <li><Link to={\"/movie\"}>Browse Movies</Link></li>\n              </ul>\n            </li>\n          </ul>\n\n          <ul className=\"nav navbar-nav navbar-right\">\n            <li><a onClick={this.props.handleLogout} href=\"/\"><span className=\"glyphicon glyphicon-log-out\"></span> Logout</a></li>\n          </ul>\n          <form className=\"navbar-form navbar-left\">\n            <div className=\"form-group\">\n              <input type=\"text\" name=\"search\" onChange={this.handleInputChange} value={this.state.search} className=\"form-control\" placeholder=\"Search Movie\" />\n            </div>\n            <button type=\"submit\" onClick={this.handleInputSubmit} className=\"btn btn-default\">Submit</button>\n          </form>\n        </div>\n      </nav>\n    )\n  }\n}\n\nexport default withRouter(Navbar);\n\n\n\n\n\n","import \"./MovieDisplay.css\";\nimport React from \"react\";\nimport { Container, Col, Row } from \"../Grid\"\nimport { Image, Transformation } from 'cloudinary-react';\nimport { Link } from \"react-router-dom\";\n\nconst MovieDisplay = props => (\n  <Container>\n    <Row>\n      <div className=\"movie-display panel\" key={props.movie.imdbID}>\n\n        <div className=\"movie-display-body panel-body\">\n          <Col size=\"md-4\">\n            {props.movie.Poster !== \"N/A\"\n              ? <img src={props.movie.Poster} alt={props.movie.Title} />\n              : <Image cloudName=\"dmyiazu6p\" publicId=\"movie_placeholder.png\">\n                <Transformation width=\"200\" height=\"300\" gravity=\"faces\" crop=\"fill\" />\n              </Image>\n            }\n          </Col>\n          <Col size=\"md-8\">\n            <div className=\"movie-info\">\n\n              <h2>{props.movie.Title}</h2>\n              <div className=\"plot\">\n                {props.movie.Plot}\n              </div>\n              <div className=\"inline\">\n                <p><span className=\"underline-text\">Rated:</span> {props.movie.Rated}</p>\n                <p><span className=\"underline-text\">Genre:</span> {props.movie.Genre}</p>\n                <p><span className=\"underline-text\">Released:</span> {props.movie.Released}</p>\n                <p><span className=\"underline-text\">Runtime:</span> {props.movie.Runtime}</p>\n              </div>\n              <p><span className=\"your-movie-rating\">Your Rating: </span>\n              {props.user.rating !== null\n              ? props.user.rating === 1\n              ? <span>\n              <span className=\"fa fa-star checked\"></span>\n              <span className=\"fa fa-star\"></span>\n              <span className=\"fa fa-star\"></span>\n              <span className=\"fa fa-star\"></span>\n            </span>\n            : props.user.rating === 2\n            ? <span>\n            <span className=\"fa fa-star checked\"></span>\n            <span className=\"fa fa-star checked\"></span>\n            <span className=\"fa fa-star\"></span>\n            <span className=\"fa fa-star\"></span>\n          </span>\n          :props.user.rating === 3\n          ? <span>\n          <span className=\"fa fa-star checked\"></span>\n          <span className=\"fa fa-star checked\"></span>\n          <span className=\"fa fa-star checked\"></span>\n          <span className=\"fa fa-star\"></span>\n        </span>\n        : props.user.rating === 4\n        ? <span>\n          <span className=\"fa fa-star checked\"></span>\n          <span className=\"fa fa-star checked\"></span>\n          <span className=\"fa fa-star checked\"></span>\n          <span className=\"fa fa-star checked\"></span>\n        </span>\n        : <span>\n          No rating yet\n</span>\n:<span>\nNo rating yet\n</span>\n              }\n              \n                {props.movie.myCriticRating != null\n                ?<span className=\"float-right\">\n                MyCritic Score: {props.movie.myCriticRating}%</span>\n                : <span className=\"float-right\">\n                MyCritic Score: No ratings</span>\n                }\n              </p>\n\n            </div>\n          </Col>\n          <Row>\n            <Col size=\"sm-4\">\n          <div className=\"my-review\">\n            {props.children}\n          </div>\n          </Col>\n          <Col size=\"sm-3\">\n          <div className=\"scroll critic-review-body\">\n            <h3>My Critic Reviews</h3>\n            {props.critics.map(res => {\n\n              return <div className=\"critic-review-content\" key={res._id}>\n              <Link to={\"/user/\" + res._id}>\n                <p>{res.name}</p>\n                </Link>\n                {res.rating !== null\n                ?res.rating === 1\n                  ? <span>\n                   <span className=\"fa fa-star checked\"></span>\n                   <span className=\"fa fa-star\"></span>\n                   <span className=\"fa fa-star\"></span>\n                   <span className=\"fa fa-star\"></span>\n                  </span>\n                : res.rating === 2\n                ? <span>\n                <span className=\"fa fa-star checked\"></span>\n                <span className=\"fa fa-star checked\"></span>\n                <span className=\"fa fa-star\"></span>\n                <span className=\"fa fa-star\"></span>\n              </span>\n              : res.rating === 3\n              ? <span>\n              <span className=\"fa fa-star checked\"></span>\n              <span className=\"fa fa-star checked\"></span>\n              <span className=\"fa fa-star checked\"></span>\n              <span className=\"fa fa-star\"></span>\n            </span>\n            : res.rating === 4\n            ? <span>\n            <span className=\"fa fa-star checked\"></span>\n            <span className=\"fa fa-star checked\"></span>\n            <span className=\"fa fa-star checked\"></span>\n            <span className=\"fa fa-star\"></span>\n          </span>\n          : <p>rating not available</p>\n          : <p>rating not available</p>\n                }\n                \n                {res.review !== null\n                  ? <p>{res.review}</p>\n                  : <p>No review submitted</p>\n                }\n              </div>\n\n            })}\n            \n          </div>\n          </Col>\n          </Row>\n        </div>\n        \n      </div>\n     \n    </Row>\n\n  </Container>\n)\n\nexport default MovieDisplay;","import React from \"react\";\nimport \"./Wrapper.css\";\n\nconst Wrapper = props => (\n    <div className=\"container\"> \n    {props.children}\n    </div>\n);\n\nexport default Wrapper;","import \"./Results.css\";\nimport React from \"react\";\n\nconst Results = props => (\n \n  <div className=\"row\">\n    <div className=\"col-sm-12\">\n      <br />\n      <div className=\"panel panel-small results-body\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\"><strong>Movie Results</strong></h3>\n        </div>\n        <div className=\"panel-body\" id=\"well-section\">\n        <div className=\"search-results\">\n    {props.children}\n   \n  </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n);\n\nexport default Results;","import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport { Col, Row } from \"../../components/Grid\";\nimport MovieDisplay from \"../../components/MovieDisplay\";\nimport Wrapper from \"../../components/Wrapper\";\nimport Results from \"../../components/Results\";\nimport \"./Movie.css\";\nimport { Button, Modal } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\n\nlet userCritics = [];\nlet yourRatings = [];\nlet myCritics = [];\n\n\nclass Movie extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n\n    this.state = {\n      display: false,\n      movie: null,\n      currentuser: {},\n      currentuserreview: null,\n      allusers: [],\n      navsearch: \"\",\n      results: [],\n      rating: 0,\n      ratings: [],\n      show: false,\n      id: \"\",\n      title: \"\",\n      poster: \"\",\n      writeup: \"\",\n      userratings: [],\n      usercritics: [],\n      currentcriticratings: [],\n      currentcriticreviews: [],\n      error: false\n    }\n\n  }\n\n  componentWillReceiveProps(){\n    this.loadUser();\n\n  }\n\n\n  handleReviewSubmit = event => {\n    event.preventDefault();\n    const id = this.props.auth.userId;\n    let thisMovie = this.state.movie\n    API.submitReview({\n      _userId: id,\n      review: this.state.writeup,\n      imdbID: this.state.id\n    }).then(res => {\n\n      let movie = window.location.search;\n      movie = movie.split(\"=\")\n      movie = movie[1]\n      API.findUser(this.props.auth.userId).then(res =>{\n        const thisMovie = res.data.ratings.filter(rating => rating.imdbID === movie)\n        \n        if(thisMovie.length !== 0){\n          if(thisMovie[0].review !== undefined){\n          const myscore = {\n            rating: thisMovie[0].rating,\n            review: thisMovie[0].review\n          }\n          \n          this.setState({\n            currentuser: res.data,\n            currentuserreview: myscore,\n            show: false\n          })\n        } else {\n          const myscore = {\n            rating: thisMovie[0].rating,\n            review: null\n          }\n          \n          this.setState({\n            currentuser: res.data,\n            currentuserreview: myscore,\n            show: false\n          })\n        }\n        } else {\n          const myscore = {\n            rating: null,\n            review: null\n          }\n          this.setState({\n            currentuser: res.data,\n            currentuserreview: myscore,\n            show: false\n          })\n        }\n      })\n     \n      \n    })\n\n  }\n\n  handleRatingInputChange = event => {\n    event.preventDefault();\n    const thisid = event.currentTarget.name;\n    const value = event.target.htmlFor;\n    const poster = event.currentTarget.getAttribute(\"image\");\n    const id = this.props.auth.userId;\n    const username = this.state.currentuser.name\n    const title = event.currentTarget.getAttribute(\"title\");\n    API.submitRating({\n      imdbID: thisid,\n      rating: value,\n      poster: poster,\n      _userId: id,\n      title: title,\n      username: username\n    }).then(res => {\n\n      let movie = window.location.search;\n      movie = movie.split(\"=\")\n      movie = movie[1]\n      API.findUser(this.props.auth.userId).then(res =>{\n        const thisMovie = res.data.ratings.filter(rating => rating.imdbID === movie)\n        console.log(thisMovie.length)\n        if(thisMovie.length !== 0){\n          if(thisMovie[0].review !== undefined){\n          const myscore = {\n            rating: thisMovie[0].rating,\n            review: thisMovie[0].review\n          }\n          \n          this.setState({\n            currentuser: res.data,\n            currentuserreview: myscore,\n  \n          })\n        } else {\n          const myscore = {\n            rating: thisMovie[0].rating,\n            review: null\n          }\n          \n          this.setState({\n            currentuser: res.data,\n            currentuserreview: myscore,\n  \n          })\n        }\n        } else {\n          const myscore = {\n            rating: null,\n            review: null\n          }\n          this.setState({\n            currentuser: res.data,\n            currentuserreview: myscore,\n  \n          })\n        }\n      })\n\n\n\n    })\n  }\n\n\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow(id, title, poster) {\n    this.setState({ id: id, title: title, poster: poster })\n    this.setState({ show: true })\n  }\n\n  handleInputChange = event => {\n    event.preventDefault();\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  getCriticScore = () => {\n    const criticRatings = this.state.currentcriticratings;\n    let thisMovie = this.state.movieholder\n   \n    let score = 0;\n    let viewers = 0;\n    let percentage = 0;\n    if (criticRatings.length > 0) {\n\n      for (let i = 0; i < criticRatings.length; i++) {\n        if (criticRatings[i] > 2) {\n          score = score += 1\n          viewers += 1\n          percentage = (score / viewers) * 100\n          percentage = Math.round(percentage)\n          thisMovie.criticRating = percentage;\n\n        }\n        else {\n          viewers += 1;\n          percentage = (score / viewers) * 100\n          percentage = Math.round(percentage)\n          thisMovie.criticRating = percentage;\n        }\n\n      }\n      this.setState({ movie: thisMovie })\n    }\n\n  }\n\n  getUserRating = () => {\n    const userCritics = this.state.usercritics\n    let criticReviews = [];\n    let thisMovie = this.state.movieholder;\n    let thisRatings = [];\n\n    \n    let criticRatings = [];\n    for (let i = 0; i < userCritics.length; i++) {\n      const ratings = userCritics[i].ratings\n     thisRatings = ratings.filter( res => res.imdbID === thisMovie.imdbID)\n   \n     if(thisRatings.length !== 0){\n      criticReviews.push({username: userCritics[i].name,\n      id: thisRatings[0]._id,\n    rating: thisRatings[0].rating,\n  review: thisRatings[0].review});\n  criticRatings.push(thisRatings[0].rating)\n     }\n      \n    \n\n    }\n  \n    \n    if(criticReviews !== null){\n      this.setState({\n        currentcriticreviews: criticReviews\n      })\n    }\n    \n    \n    if(criticRatings !== null){\n      this.setState({\n        currentcriticratings: criticRatings\n      })\n      this.getCriticScore();\n    }\n    \n    \n    this.setState({movie: thisMovie})\n\n    \n  }\n\n  runSingleMovie = () => {\n    let movie = window.location.search;\n    movie = movie.split(\"=\")\n    movie = movie[1]\n \n    if(movie !== undefined){\n      API.byId(movie).then(res => {\n        let thisMovie = res.data;\n        const userRatings = this.state.currentuser.ratings\n        const yourRatings = this.state.currentuser.ratings\n        for (let i = 0; i < yourRatings.length; i++) {\n          if (yourRatings[i].imdbID === thisMovie.imdbID) {\n            thisMovie.userRating = yourRatings[i].rating\n            thisMovie.userReview = yourRatings[i].review\n            if(yourRatings[i].review !== undefined){\n              thisMovie.userReview = yourRatings[i].review\n            }\n          }\n  \n        }\n      \n        this.setState({ movie: thisMovie, movieholder: thisMovie, display: true })\n  \n        this.getUserRating()\n  \n      })\n    } else{\n      this.setState({\n        error: true\n      })\n    }\n\n    \n    \n  }\n\n  \n\n  \n\n\n  loadUserCritics = () => {\n    const userCritics = this.state.currentuser.critics\n  \n    if(userCritics !== undefined){\n      for (let i = 0; i < userCritics.length; i++) {\n        API.findUser(userCritics[i].criticId).then(res => {\n        \n          myCritics.push(res.data)\n        })\n      }\n      this.setState({ usercritics: myCritics })\n      this.runSingleMovie();\n    }\n    \n\n  }\n\n  loadPage = () => {\n    let movie = window.location.search;\n    movie = movie.split(\"=\")\n    movie = movie[1]\n    API.findUser(this.props.auth.userId).then(res =>{\n      const thisMovie = res.data.ratings.filter(rating => rating.imdbID === movie)\n    \n      if(thisMovie.length !== 0){\n        if(thisMovie[0].review !== undefined){\n        const myscore = {\n          rating: thisMovie[0].rating,\n          review: thisMovie[0].review\n        }\n     \n        this.setState({\n          currentuser: res.data,\n          currentuserreview: myscore\n        })\n      } else {\n        const myscore = {\n          rating: thisMovie[0].rating,\n          review: null\n        }\n      \n        this.setState({\n          currentuser: res.data,\n          currentuserreview: myscore\n        })\n      }\n      } else {\n        const myscore = {\n          rating: null,\n          review: null\n        }\n        this.setState({\n          currentuser: res.data,\n          currentuserreview: myscore\n        })\n      }\n\n     \n      if(movie !== undefined){\n        API.byId(movie).then(res => {\n         \n            const thisMovie = res.data;\n          const userId = this.props.auth.userId;\n          API.getMovieRatings({\n            movie: thisMovie,\n            id: userId\n          }).then(res =>{\n           \n            this.setState({\n              movie: {\n                Title: res.data.Title,\n                Poster: res.data.Poster,\n                imdbID: res.data.imdbID,\n                Plot: res.data.Plot,\n                Rated: res.data.Rated,\n                Genre: res.data.Genre,\n                Released: res.data.Released,\n                Runtime: res.data.Runtime,\n                myCriticRating: res.data.criticRating,\n                myCriticReviews: res.data.writeups\n              },\n  \n              currentcriticratings: res.data.criticRatings,\n              currentuser: res.data.currentUser,\n              currentcriticreviews: res.data.writeups\n            })\n          })\n           \n          \n        })} else{\n          this.setState({\n            error: true\n          })\n        }\n    })\n    console.log(movie)\n   \n   \n\n    // API.forMoviePage(this.props.auth.userId).then(res => {\n    //   console.log(res.data);\n    //   yourRatings = res.data.ratings;\n    //   this.setState({ currentuser: res.data})\n    //   this.loadUserCritics()\n    // })\n  }\n\n  componentDidMount() {\n    this.loadPage();\n\n  }\n\n  render() {\n    return (\n      <div>\n      {this.state.movie === null\n      ?  null\n      \n      : <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <MovieDisplay\n            movie={this.state.movie}\n            critics={this.state.currentcriticreviews}\n            user={this.state.currentuserreview}\n          >\n\n            {this.state.currentuserreview.rating === null\n              ? <div className=\"movie-star-rating\">\n              <h3>Please rate:</h3>\n              <div className=\"your-rating-stars\">\n                <fieldset title={this.state.movie.Title} image={this.state.movie.Poster} className=\"rating-movie\" name={this.state.movie.imdbID} onClick={this.handleRatingInputChange}>\n                  \n                  <input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" /><label htmlFor=\"4\"></label>\n                  <input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" /><label htmlFor=\"3\"></label>\n                  <input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" /><label htmlFor=\"2\"></label>\n                  <input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" /><label htmlFor=\"1\"></label>\n                </fieldset>\n                </div>\n              </div>\n              : <span></span>\n            }\n            {this.state.currentuserreview.review !== null\n              ? <p><span className=\"head-text\">Your Review:</span>\n                <br />\n                <br />\n                {this.state.currentuserreview.review}</p>\n              : this.state.currentuserreview.rating !== null\n                ? <Button id={this.state.movie.imdbID} name={this.state.movie.Title} className=\"button-review-submit\" bsSize=\"large\" onClick={() => this.handleShow(this.state.movie.imdbID, this.state.movie.Title, this.state.movie.Poster)}>\n                  Add A Review\n                    </Button>\n                : <span></span>\n            }\n\n            <Modal show={this.state.show} onHide={this.handleClose}>\n              <Modal.Header closeButton>\n                <Modal.Title>Review {this.state.title}</Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                <div className=\"review-window-contents\">\n                <img src={this.state.poster} alt={this.state.title} />\n                </div>\n                <br />\n                <div className=\"form-group\">\n                  <label htmlFor=\"comment\">Review:</label>\n                  <textarea name=\"writeup\" value={this.state.writeup} onChange={this.handleInputChange} className=\"form-control\" rows=\"5\" id=\"comment\"></textarea>\n                </div>\n\n              </Modal.Body>\n              <Modal.Footer>\n                <Button onClick={this.handleReviewSubmit}>Submit Review</Button>\n                <Button onClick={this.handleClose}>Close</Button>\n              </Modal.Footer>\n            </Modal>\n\n          </MovieDisplay>\n        </div>\n      </div>\n    </div>\n      \n      }\n       \n        \n\n      </div>\n    )\n  }\n\n}\n\n\nexport default Movie;","import React, { Component } from \"react\";\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\n// import Wrapper from \"../../components/Wrapper\"\nimport { Image, Transformation } from 'cloudinary-react';\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport Sidebar from \"../../components/Sidebar\";\nimport Mainbody from \"../../components/Mainbody\";\nimport { Button, Modal } from 'react-bootstrap';\nimport \"./Profile.css\";\nimport { Link } from \"react-router-dom\";\n\nconst CLOUDINARY_UPLOAD_PRESET = 'kmmnilon';\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/dmyiazu6p/image/upload';\n// let userRatings = [];\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentuser: {},\n      topmovies: [],\n      userratings: [],\n      uploadedFile: null,\n      uploadedFileCloudinaryUrl: '',\n      userimage: \"\",\n      modalDisplay: false,\n      show: false,\n      showedit: false,\n      movieOne: \"\",\n      movieTwo: \"\",\n      movieThree: \"\",\n      movieFour: \"\",\n      movieFive: \"\",\n      dropdown: false,\n      title: \"My Reviews\",\n      selection: \"My Critics\"\n    };\n  }\n\n\n  onImageDrop(files) {\n    this.setState({\n      uploadedFile: files[0]\n    });\n\n    this.handleImageUpload(files[0]);\n  }\n\n  handleImageUpload(file) {\n    let upload = request.post(CLOUDINARY_UPLOAD_URL)\n      .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n      .field('file', file);\n\n    upload.end((err, response) => {\n      if (err) {\n        console.error(err);\n      }\n\n      if (response.body.secure_url !== '') {\n\n        let userImage = response.body.secure_url.split(\"/\")[7];\n\n        this.setState({\n          userimage: userImage\n        });\n      }\n    });\n  }\n\n  handleUpload = event => {\n    event.preventDefault();\n    const userImage = this.state.userimage;\n    const id = this.props.auth.userId\n\n    API.uploadImage({ image: userImage, id: id })\n    this.setState({ show: false })\n    this.loadUser();\n  }\n\n  handleClose = event => {\n    event.preventDefault();\n    this.setState({ show: false });\n  }\n\n  handleShow = event => {\n    event.preventDefault();\n    this.setState({ show: true })\n  }\n\n  runUserRatings = () => {\n    let ratings = this.state.currentuser.ratings;\n    ratings.sort(function compare(a, b) {\n      let dateA = new Date(a.date);\n      let dateB = new Date(b.date);\n      return dateB - dateA;\n    });\n    this.setState({ userratings: ratings })\n\n  }\n\n  loadUser = () => {\n\n\n\n    API.findUser(this.props.auth.userId).then(res => {\n\n      this.setState({ currentuser: res.data })\n      if(res.data.critics !== undefined){\n        this.setState({\n          dropdown: true\n        })\n      }\n      this.runUserRatings();\n    })\n\n\n\n    // API.findUser(id).then(res => {\n    //   console.log(res.data);\n    //   this.setState({ currentuser: res.data })\n    //   this.runUserRatings();\n    // })\n  }\n\n\n\n  componentDidMount() {\n    this.loadUser();\n\n  }\n\n  handleInputChange = event => {\n    let value = event.target.value;\n    const name = event.target.name;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n\n    const topFive = [this.state.movieOne, this.state.movieTwo, this.state.movieThree, this.state.movieFour, this.state.movieFive];\n    const data = {\n      userId: this.props.auth.userId,\n      topfive: topFive\n    }\n\n    API.submitTopFive(data).then(res =>{\n     \n    })\n\n    this.setState({\n      showedit: false\n    })\n\n    this.loadUser();\n  };\n\n  handleUpdateMovies = event =>{\n    event.preventDefault();\n\n    this.setState({\n      showedit: true\n    })\n  }\n\n  handleSelection = event => {\n    event.preventDefault();\n    if (this.state.title === \"My Reviews\") {\n      this.setState({\n        title: \"My Critics\",\n        selection: \"My Reviews\"\n      })\n    }\n    if (this.state.title === \"My Critics\") {\n      this.setState({\n        title: \"My Reviews\",\n        selection: \"My Critics\"\n      })\n    }\n  }\n  \n  handleDelete = data =>{\n    \n    API.deleteCritic(data).then(res =>{\n      console.log(res.data + \" deleted!\")\n    })\n    this.loadUser();\n  }\n\n  render() {\n    return (\n      <div>\n        <Container>\n          <Row>\n            <Col size=\"md-3\">\n              <Sidebar title={\"My Fav Five\"}>\n              <div className=\"black-border\">\n                {this.state.currentuser.topmovies !== undefined\n                ? !this.state.showedit\n                  ? <ol>\n                    {this.state.currentuser.topmovies.map(res =>\n\n                      <li key={res}>{res}</li>\n\n                    )}\n                       <button id=\"update-button\" className=\"update-btn\" onClick={this.handleUpdateMovies}>Update</button>\n                  </ol>\n                 \n                  : null\n                : null\n                }\n                \n                {this.state.showedit === true\n                  ? <form>\n                    <ol>\n                      <form className=\"form\">\n                        <li><input\n                          value={this.state.movieOne}\n                          name=\"movieOne\"\n                          onChange={this.handleInputChange}\n                          type=\"text\"\n                          \n                        /></li>\n                        <li><input\n                          value={this.state.movieTwo}\n                          name=\"movieTwo\"\n                          onChange={this.handleInputChange}\n                          type=\"text\"\n                          \n                        /></li>\n                        <li><input\n                          value={this.state.movieThree}\n                          name=\"movieThree\"\n                          onChange={this.handleInputChange}\n                          type=\"text\"\n                          \n                        /></li>\n                        <li><input\n                          value={this.state.movieFour}\n                          name=\"movieFour\"\n                          onChange={this.handleInputChange}\n                          type=\"text\"\n                          \n                        /></li>\n                         <li><input\n                          value={this.state.movieFive}\n                          name=\"movieFive\"\n                          onChange={this.handleInputChange}\n                          type=\"text\"\n                          \n                        /></li>\n                        <button onClick={this.handleFormSubmit}>Submit</button>\n                      </form>\n                    </ol>\n                  </form>\n                  : <span></span>\n                }\n                </div>\n              </Sidebar>\n            </Col>\n\n            <Col size=\"md-6\">\n              <Mainbody dropdown={this.state.dropdown}\n                handleSelection={this.handleSelection}\n                dropdown={this.state.dropdown}\n                title={this.state.title}\n                selection={this.state.selection}\n              >\n              {this.state.title === \"My Reviews\"\n              ?<div className=\"black-border padding-xs\">\n              {this.state.userratings !== []\n                ? <div>\n                  {this.state.userratings.map(res =>\n                    <div className=\"my-reviews\" key={res.imdbID}>\n                      <Link to={\"/movie/?q=\" + res.imdbID}>\n                        <img alt={res.title} src={res.poster} />\n                      </Link>\n                      <div className=\"reviews-title\">\n                        <h3>{res.title}</h3>\n                      </div>\n                      <div className=\"reviews-body\">\n                        <div className=\"border-box\">\n                          <p>My rating:</p>\n                          {res.rating === 1\n                            ? <p><span className=\"fa fa-star checked\"></span>\n                              <span className=\"fa fa-star\"></span>\n                              <span className=\"fa fa-star\"></span>\n                              <span className=\"fa fa-star\"></span></p>\n                            : res.rating === 2\n                              ? <p><span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star\"></span>\n                                <span className=\"fa fa-star\"></span></p>\n                              : res.rating === 3\n                                ? <p><span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star\"></span></p>\n                                : res.rating === 4\n                                  ? <p>\n                                    <span className=\"fa fa-star checked\"></span>\n                                    <span className=\"fa fa-star checked\"></span>\n                                    <span className=\"fa fa-star checked\"></span>\n                                    <span className=\"fa fa-star checked\"></span>\n                                  </p>\n                                  : <p>Rating Unavailable</p>\n                          }\n                          {res.review !== undefined\n                            ? <p>{res.review}\n                              <br />\n                              -{this.state.currentuser.name}\n                            </p>\n                            : <p></p>\n                          }\n                        </div>\n                      </div>\n\n                    </div>\n                  )}\n                </div>\n                : <div>\n                  <p>No Ratings Available</p>\n                </div>\n\n              }\n              </div>\n              : <div className=\"black-border padding-xs\">\n              {this.state.currentuser.critics.map(res =>{\n                 return <div key={res.criticId}>\n                 <div className=\"float-left\">\n                   <Link to={\"/user/\" + res._id}>\n            <Image cloudName=\"dmyiazu6p\" publicId={res.image}>\n              <Transformation width=\"100\" height=\"100\" gravity=\"faces\" crop=\"fill\" />\n            </Image>\n            </Link>\n            </div>\n            <Link to={\"/user/\" + res.criticId}>\n                  <p>{res.username}</p>\n                  </Link>\n                  <button className=\"update-btn\" onClick={() => this.handleDelete(res._id)}>delete critic</button>\n                  </div>\n              })}\n              </div>\n            }\n              </Mainbody>\n            </Col>\n            <Col size=\"md-3\">\n              <Sidebar title={\"My Profile\"}>\n              <div className=\"black-border padding-xs\">\n                <Image cloudName=\"dmyiazu6p\" publicId={this.state.currentuser.image}>\n                  <Transformation width=\"150\" height=\"150\" gravity=\"faces\" crop=\"fill\" />\n                </Image>\n                <button className=\"update-btn\" onClick={this.handleShow}>Update Picture</button>\n                </div>\n              </Sidebar>\n            </Col>\n          </Row>\n        </Container>\n        <Modal show={this.state.show} onHide={this.handClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Upload New Profile Picture</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <form>\n              <div className=\"FileUpload\">\n              <div className=\"FileUpload-contents\">\n                <Dropzone\n                  onDrop={this.onImageDrop.bind(this)}\n                  multiple={false}\n                  accept=\".png, .jpg\">\n                  <div>Drop an image or click to select a file to upload.</div>\n                </Dropzone>\n              </div>\n\n              <div>\n        \n                <div className=\"upload-img\">\n                \n                \n                    <p> <Image cloudName=\"dmyiazu6p\" publicId={this.state.userimage}>\n                    <Transformation width=\"150\" height=\"150\" gravity=\"faces\" crop=\"fill\" />\n                  </Image><br /></p>\n                    \n                  </div>\n                  </div>\n              </div>\n            </form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.handleUpload}>Save Changes</Button>\n            <Button onClick={this.handleClose}>Cancel</Button>\n          </Modal.Footer>\n        </Modal>\n\n\n\n\n\n      </div>\n    )\n  }\n}\n\nexport default Profile;","import React, { Component } from \"react\";\n// import { Questions, QuestionsBtn, Stars } from \"../../components/Questions\"\nimport API from \"../../utils/API\";\n// import { push } from 'react-router-redux';\nimport SearchForm from \"../../components/SearchForm\"\nimport Wrapper from \"../../components/Wrapper\"\nimport Results from \"../../components/Results\"\nimport \"./Search.css\"\nimport { Button, Modal } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nimport { Col, Row } from \"../../components/Grid\";\nimport { Image, Transformation } from 'cloudinary-react';\n\nlet userCritics = [];\nlet yourRatings = [];\nlet myCritics = [];\nlet thisMovie = {};\n\nclass Search extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n\n    this.state = {\n      movieSearch: \"\",\n      navsearch: \"\",\n      results: [],\n      rating: 0,\n      ratings: [],\n      show: false,\n      id: \"\",\n      title: \"\",\n      poster: \"\",\n      writeup: \"\",\n      currentuser: {},\n      userratings: [],\n      usercritics: [],\n      success: false\n    };\n  }\n\n  componentWillReceiveProps(){\n    \n    this.loadUser();\n  }\n\n  handleReviewSubmit = event => {\n    event.preventDefault();\n    const id = this.props.auth.userId;\n    API.submitReview({\n      _userId: id,\n      review: this.state.writeup,\n      imdbID: this.state.id\n    }).then(res => {\n      API.findUser(id).then(res => {\n        const yourRatings = res.data.ratings;\n        let searchResults = this.state.results\n        for (let i = 0; i < searchResults.length; i++) {\n          for (let x = 0; x < yourRatings.length; x++) {\n            if (searchResults[i].imdbID === yourRatings[x].imdbID) {\n              searchResults[i].yourRating = yourRatings[x].rating\n              if (yourRatings[x].review !== undefined) {\n                searchResults[i].yourReview = yourRatings[x].review\n              }\n            }\n          }\n        }\n        this.setState({ results: searchResults })\n      })\n      this.setState({ show: false })\n    })\n\n  }\n\n  handleRatingInputChange = event => {\n    event.preventDefault();\n    const thisid = event.currentTarget.name;\n    const value = event.target.htmlFor;\n    const poster = event.currentTarget.getAttribute(\"image\");\n    const id = this.props.auth.userId;\n    const username = this.state.currentuser.name\n    const title = event.currentTarget.getAttribute(\"title\");\n    API.submitRating({\n      imdbID: thisid,\n      rating: value,\n      poster: poster,\n      _userId: id,\n      title: title,\n      username: username\n    }).then(res => {\n      API.findUser(id).then(res => {\n        const yourRatings = res.data.ratings;\n        let searchResults = this.state.results\n        for (let i = 0; i < searchResults.length; i++) {\n          for (let x = 0; x < yourRatings.length; x++) {\n            if (searchResults[i].imdbID === yourRatings[x].imdbID) {\n              searchResults[i].yourRating = yourRatings[x].rating\n            }\n          }\n        }\n        this.setState({ results: searchResults })\n      })\n\n\n\n    })\n  }\n\n  handleClose() {\n    this.setState({ show: false });\n  }\n\n  handleShow(id, title, poster) {\n    this.setState({ id: id, title: title, poster: poster })\n    this.setState({ show: true })\n  }\n\n  handleInputChange = event => {\n    event.preventDefault();\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  runSearch = () => {\n    let movie = window.location.pathname;\n    movie = movie.split(\"/\")[2];\n  \n    let searchResults = [];\n    let yourRatings = [];\n    API.searchByTitle(movie).then(res => {\n       searchResults = res.data.Search;\n       yourRatings = this.state.currentuser.ratings;\n      \n      if(searchResults !== undefined){\n        this.setState({ success: true})\n        for (let i = 0; i < searchResults.length; i++) {\n          let movieTitlePlus = searchResults[i].Title;\n          movieTitlePlus = movieTitlePlus.split(\" \");\n          movieTitlePlus = movieTitlePlus.join(\"+\");\n          searchResults[i].plusTitle = movieTitlePlus\n          for (let x = 0; x < yourRatings.length; x++) {\n            if (searchResults[i].imdbID === yourRatings[x].imdbID) {\n              searchResults[i].yourRating = yourRatings[x].rating\n              if (yourRatings[x].review !== undefined) {\n                searchResults[i].yourReview = yourRatings[x].review\n              }\n            }\n          }\n        }\n        this.setState({ results: searchResults })\n      \n      } else{\n        this.setState({ success: false})\n      }\n     \n    })\n    \n    // this.getUserRating()\n    \n  }\n\n\n\n  loadUser = () => {\n    API.findUser(this.props.auth.userId).then(res => {\n      \n      userCritics = res.data.critics;\n   \n      yourRatings = res.data.ratings;\n      this.setState({ currentuser: res.data })\n      this.runSearch();\n      // this.loadUserCritics()\n    })\n  }\n\n  componentDidMount(){\n    this.loadUser();\n    \n   \n   \n   }\n\n  render() {\n    return (\n      <Wrapper>\n        {this.state.success\n        ? <Results>\n        {this.state.results.map(result => (\n          <Row key={result.imdbID}>\n            <div className=\"search-body\">\n              <Col size=\"md-4\">\n                <div className=\"search-float-left movie-img\">\n                  <Link to={\"/movie/?q=\" + result.imdbID}>\n                  {result.Poster !== \"N/A\"\n                ?  <img src={result.Poster} alt={result.Title} />\n                : <Image cloudName=\"dmyiazu6p\" publicId=\"movie_placeholder.png\">\n                <Transformation width=\"200\" height=\"300\" gravity=\"faces\" crop=\"fill\" />\n              </Image>\n                }\n                   \n                  </Link>\n                  <Link to={\"/movie/?q=\" + result.imdbID}>view movie info</Link>\n                </div>\n              </Col>\n              <Col size=\"md-8\">\n                <div className=\"search-content\">\n                  <h2>{result.Title} ({result.Year})</h2>\n              \n                 \n                </div>\n                <Row>\n                  <Col size=\"md-3\">\n                    <div className=\"your-rating\">\n\n                      {result.yourRating === undefined\n                        ? <Row>\n                          <Col size=\"md-12\">\n                            <div className=\"star-rating\">\n                              <fieldset title={result.Title} image={result.Poster} className=\"rating\" name={result.imdbID} onClick={this.handleRatingInputChange}>\n                                <h3>Please rate:</h3>\n                                <input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" /><label htmlFor=\"4\"></label>\n                                <input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" /><label htmlFor=\"3\"></label>\n                                <input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" /><label htmlFor=\"2\"></label>\n                                <input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" /><label htmlFor=\"1\"></label>\n                              </fieldset>\n                            </div>\n                          </Col>\n                        </Row>\n                        : result.yourRating === 1\n                          ? <p><span className=\"head-text\">Your Rating:</span>\n                            <br />\n                            <span className=\"fa fa-star checked\"></span>\n                            <span className=\"fa fa-star\"></span>\n                            <span className=\"fa fa-star\"></span>\n                            <span className=\"fa fa-star\"></span>\n                          </p>\n                          : result.yourRating === 2\n                            ? <p><span className=\"head-text\">Your Rating:</span>\n                              <br />\n                              <span className=\"fa fa-star checked\"></span>\n                              <span className=\"fa fa-star checked\"></span>\n                              <span className=\"fa fa-star\"></span>\n                              <span className=\"fa fa-star\"></span>\n                            </p>\n                            : result.yourRating === 3\n                              ? <p><span className=\"head-text\">Your Rating:</span>\n                                <br />\n                                <span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star\"></span>\n                              </p>\n                              : result.yourRating === 4\n                                ? <p><span className=\"head-text\">Your Rating:</span>\n                                  <br />\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                </p>\n                                : null\n                      }\n\n\n                      {result.yourReview !== undefined\n                        ? <p><span className=\"head-text\">Your Review:</span>\n                          <br />\n                          {result.yourReview}</p>\n                        : result.yourRating !== undefined\n                          ? <Button id={result.imdbID} name={result.Title} className=\"button-review-submit\" bsSize=\"large\" onClick={() => this.handleShow(result.imdbID, result.Title, result.Poster)}>\n                            Add A Review\n                </Button>\n                          : <p>Rate Movie Before Writing Review</p>\n                      }\n\n\n                    </div>\n                  </Col>\n                </Row>\n                \n              </Col>\n             \n              <Modal show={this.state.show} onHide={this.handleClose}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Review {this.state.title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  <img src={this.state.poster} alt={this.state.title} />\n                  <br />\n                  <div className=\"form-group\">\n                    <label htmlFor=\"comment\">Review:</label>\n                    <textarea name=\"writeup\" value={this.state.writeup} onChange={this.handleInputChange} className=\"form-control\" rows=\"5\" id=\"comment\"></textarea>\n                  </div>\n\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button onClick={this.handleReviewSubmit}>Submit Review</Button>\n                  <Button onClick={this.handleClose}>Close</Button>\n                </Modal.Footer>\n              </Modal>\n            </div>\n          </Row>\n        ))}\n\n      </Results>\n      : <Results>\n        <p>Movie not found (check your spelling)</p>\n      </Results>\n      \n      }\n             \n\n            </Wrapper>\n    )\n  }\n\n}\n\n\n\nexport default Search;","import React from 'react';\nimport \"./style.css\";\nimport {Link} from 'react-router-dom';\n\nconst SignIn = (props)=> {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"sign-in-form\">\n\t\t\t<Link to = \"/signup\" >Go to sign up</Link>\n\t\t\t<form className=\"form-signin\">\n\t\t\t<h2 className=\"form-signin-heading\">Please Sign In</h2>\n\t\t\t\t<label>Email</label><br/>\n\t\t\t\t<input className=\"form-control\" value = {props.username} onChange = {props.handleChange} name='username' type='email' placeholder = 'example@email.com'/>\n\t\t\t\t<br />\n\t\t\t\t<label>Password</label><br/>\n\t\t\t\t<input className=\"form-control\" name='password' type='password' value = {props.password} onChange = {props.handleChange} />\n\t\t\t\t<br />\n\t\t\t\t<button className=\"btn btn-lg btn-primary btn-block\" type = 'submit' name = \"/auth/signin\" onClick = {props.handleSubmit}>Sign In</button>\n\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default SignIn;","import React from 'react';\nimport \"./style.css\";\nimport {Link} from 'react-router-dom';\n\nconst SignUp = (props)=> {\n\treturn (\n\t\t<div className=\"container\">\n\t\t<div className=\"sign-in-form\">\n\t\t\t<Link to = \"/\" >Go to sign in</Link>\n\t\t\t<form className=\"form-signup\">\n\t\t\t<h2 className=\"form-signup-heading\">Sign Up</h2>\n\t\t\t\t<label>Name</label><br/>\n\t\t\t\t<input className=\"form-control\" value = {props.name} onChange = {props.handleChange} name='name' type='text' placeholder = 'your name'/>\n\t\t\t\t<br />\n\t\t\t\t<label>Email</label><br/>\n\t\t\t\t<input className=\"form-control\" value = {props.username} onChange = {props.handleChange} name='username' type='email' placeholder = 'example@email.com'/>\n\t\t\t\t<br />\n\t\t\t\t<label>Password</label><br/>\n\t\t\t\t<input className=\"form-control\" name='password' type='password' value = {props.password} onChange = {props.handleChange} />\n\t\t\t\t<br />\n\t\t\t\t<button className=\"btn btn-lg btn-primary btn-block\" type = 'submit' name = \"/auth/signup\" onClick = {props.handleSubmit}>Sign Up</button>\n\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default SignUp;","import React from \"react\";\nimport \"./Jumbotron.css\";\n\nconst Jumbotron = ({ children }) => (\n  <div className=\"jumbotron mt-2\">\n    {children}\n  </div>\n);\n\nexport default Jumbotron;\n","import React from \"react\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport Jumbotron from \"../../components/Jumbotron\";\n\nconst NoMatch = () => (\n  <Container fluid>\n    <Row>\n      <Col size=\"md-12\">\n        <Jumbotron>\n          <h1 className=\"text-center\">404 Page Not Found</h1>\n          <h1 className=\"text-center\">\n            <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\n              \n            </span>\n          </h1>\n        </Jumbotron>\n      </Col>\n    </Row>\n  </Container>\n);\n\nexport default NoMatch;\n","import React, { Component } from \"react\";\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\n// import Wrapper from \"../../components/Wrapper\"\nimport { Image, Transformation } from 'cloudinary-react';\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport Sidebar from \"../../components/Sidebar\";\nimport Mainbody from \"../../components/Mainbody\";\nimport { Button, Modal } from 'react-bootstrap';\nimport \"./UserPage.css\";\nimport { Link } from \"react-router-dom\";\n\n// let userRatings = [];\n\nclass UserPage extends Component {\n      state = {\n      currentuser: {},\n      topmovies: [],\n      userratings: [],\n      userimage: \"\",\n      dropdown: false\n    };\n  \n\n  runUserRatings = () => {\n    let ratings = this.state.currentuser.ratings;\n    ratings.sort(function compare(a, b) {\n      let dateA = new Date(a.date);\n      let dateB = new Date(b.date);\n      return dateB - dateA;\n    });\n    this.setState({ userratings: ratings })\n\n  }\n\n  loadUser = () => {\n    let user = window.location.pathname;\n    user = user.split(\"/\")[2]\n \n \n  \n\n    API.findUser(user).then(res => {\n      this.setState({ currentuser: res.data })\n      this.runUserRatings();\n    })\n\n    \n \n    // API.findUser(id).then(res => {\n    //   console.log(res.data);\n    //   this.setState({ currentuser: res.data })\n    //   this.runUserRatings();\n    // })\n  }\n\n  \n\n  componentDidMount () {\n   this.loadUser();\n   \n  }\n\n  render() {\n    return (\n      <div>\n        <Container>\n          <Row>\n            <Col size=\"md-3\">\n              <Sidebar title={\"My Fav Five\"}>\n              <div className=\"black-border padding-xs\">\n                {this.state.currentuser.topmovies !== undefined\n                  ? <ol>\n                    {this.state.currentuser.topmovies.map(res =>\n                      \n                      <li key={res}>{res}</li>\n                      \n                    )}\n\n                  </ol>\n                  : <p>Not yet added</p>\n\n                }\n               </div>\n              </Sidebar>\n            </Col>\n\n            <Col size=\"md-6\">\n              <Mainbody dropdown={this.state.dropdown}>\n              <div className=\"black-border padding-xs\">\n                {this.state.userratings !== []\n                  ? <div>\n                    {this.state.userratings.map(res =>\n                      <div className=\"my-reviews\" key={res.imdbID}>\n                      <Link to={\"/movie/?q=\" + res.imdbID}>\n                        <img alt={res.title} src={res.poster} />\n                        </Link>\n                        <div className=\"reviews-title\">\n                        <h3>{res.title}</h3>\n                        </div>\n                        <div className=\"reviews-body\">\n                        <div className=\"border-box\">\n                        <p>My rating:</p>\n                        {res.rating === 1\n                          ? <p><span className=\"fa fa-star checked\"></span>\n                            <span className=\"fa fa-star\"></span>\n                            <span className=\"fa fa-star\"></span>\n                            <span className=\"fa fa-star\"></span></p>\n                          : res.rating === 2\n                            ? <p><span className=\"fa fa-star checked\"></span>\n                              <span className=\"fa fa-star checked\"></span>\n                              <span className=\"fa fa-star\"></span>\n                              <span className=\"fa fa-star\"></span></p>\n                            : res.rating === 3\n                              ? <p><span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star checked\"></span>\n                                <span className=\"fa fa-star\"></span></p>\n                              : res.rating === 4\n                                ? <p>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                  <span className=\"fa fa-star checked\"></span>\n                                </p>\n                                : <p>Rating Unavailable</p>\n                        }\n                        {res.review !== undefined\n                        ?<div className=\"overflow-scroll height-med\">\n                        <p>{res.review}\n                          <br />\n                          -{this.state.currentuser.name}\n                        </p>\n                        </div>\n                        :null\n                        }\n                      </div>\n                      </div>\n                  \n                      </div>\n                    )}\n                  </div>\n                  : <div>\n                    <p>No Ratings Available</p>\n                  </div>\n\n                }\n                </div>\n              </Mainbody>\n            </Col>\n            <Col size=\"md-3\">\n              <Sidebar title={this.state.currentuser.name + \"'s Profile\"}>\n              <div className=\"black-border padding-xs\">\n                <Image cloudName=\"dmyiazu6p\" publicId={this.state.currentuser.image}>\n                  <Transformation width=\"150\" height=\"150\" gravity=\"faces\" crop=\"fill\" />\n                </Image>\n                </div>\n              </Sidebar>\n            </Col>\n          </Row>\n        </Container>\n       \n\n\n\n\n      </div>\n    )\n  }\n}\n\nexport default UserPage;","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\n// import Landing from \"./pages/Landing\";\n// import Login from \"./pages/Login\";\nimport Survey from \"./pages/Survey\";\nimport Navbar from \"./components/Navbar\";\n// import Wrapper from \"./components/Wrapper\";\nimport Movie from \"./pages/Movie\";\nimport Profile from \"./pages/Profile\";\nimport Search from \"./pages/Search\";\nimport './App.css';\nimport axios from 'axios';\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\n// import Home from \"./components/Home\";\nimport API from \"./utils/API\"\nimport NoMatch from \"./pages/NoMatch\"; \nimport UserPage from \"./pages/UserPage\";\n\n\nclass App extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    name: \"\", \n    auth: {\n      userId:\"\",\n      username:\"\",\n      name: \"\",\n      isAuthenticated:false\n    },\n    survey: false\n  };\n\n  componentDidMount(){\n  \n  }\n\n  componentWillMount(){\n    axios.get(\"/auth/isAuthenticated\").then((result)=>{\n      const {userId, isAuthenticated,username, image} = result.data\n      this.setState({\n        auth:{\n          userId,\n          isAuthenticated,\n          username,\n          image\n        }\n      });\n    });\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target;    \n        // Set the state for the appropriate input field\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    //call a sign In function\n    const newUser = {\n      username: this.state.username,\n      password: this.state.password,\n      name: this.state.name,\n      image: \"profile-placeholder.png\"\n    };\n    this.setState({\n      username: \"\",\n      password: \"\",\n      name: \"\"\n    }); \n    const {name} = event.target;\n    axios.post(name, newUser).then((data) => {\n      if (data.data.isAuthenticated){\n        const {userId, isAuthenticated, username, image, name} = data.data;\n        this.setState({\n          auth:{\n            userId,\n            isAuthenticated,\n            username,\n            image,\n            name\n          }\n        });\n      }\n    });\n  }\n\n  handleLogout = (event) => {\n    event.preventDefault();\n    axios.get(\"/auth/logout\").then((result)=>{\n      this.setState({\n        auth:{\n          userId: \"\",\n          username: \"\",\n          isAuthenticated: false\n        }\n      });\n    })\n  };\n\n  render() {\n    const loggedIn = this.state.auth.isAuthenticated;\n    return (\n      <Router>\n        <div>\n        <Navbar handleLogout = {this.handleLogout} />\n        <Switch>\n        <Route exact path = \"/\" render = {()=> {\n          if(loggedIn){\n            return <Redirect to = \"/home\" />\n          } else{\n            return <SignIn \n              handleChange= {this.handleChange} \n              handleSubmit = {this.handleSubmit}\n              email = {this.state.email}\n              password = {this.state.password}\n            />\n          } \n        }}/>\n        <Route exact path = \"/signup\" render = {()=> {\n          if(loggedIn){\n            return <Redirect to = \"/survey\" />\n          } else{\n            return <SignUp \n              handleChange= {this.handleChange} \n              handleSubmit = {this.handleSubmit}\n              email = {this.state.email}\n              password = {this.state.password}\n            />\n          }  \n        }}/>\n         <Route exact path = \"/home\" render = {()=> {\n          if(!loggedIn){\n            return <Redirect to = \"/\" />\n          } else {\n            return <Home auth = { this.state.auth }/>\n          } \n        }\n        }/>\n         <Route exact path = \"/survey\" render = {()=> {\n          if(!loggedIn){\n            return <Redirect to = \"/\" />\n          } else {\n            return <Survey auth = { this.state.auth }/>\n          } \n        }\n        }/>\n   \n         <Route exact path = \"/movie/:id?\" render = {()=> {\n          if(!loggedIn){\n            return <Redirect to = \"/\" />\n          } else {\n            return <Movie auth = { this.state.auth }/>\n          } \n        }\n        }/>\n         <Route exact path = \"/search/:id\" render = {()=> {\n          if(!loggedIn){\n            return <Redirect to = \"/\" />\n          } else {\n            return <Search auth = { this.state.auth }/>\n          } \n        }\n        }/>\n         <Route path = \"/profile\" render = {()=> {\n          if(!loggedIn){\n            return <Redirect to = \"/\" />\n          } else {\n            return <Profile auth = { this.state.auth }/>\n          } \n        }\n        }/>\n         <Route path = \"/user/:id\" render = {()=> {\n        if(!loggedIn){\n          return <Redirect to = \"/\" />\n        } else {\n          return <UserPage auth = { this.state.auth }/>\n        } \n        }\n        }/>\n        {/* <Route exact path=\"/survey\" component={Survey} /> */}\n        <Route component={NoMatch} />\n        </Switch>\n        </div>\n      </Router>\n    )\n  }\n\n  \n};\n\nexport default App;\n\n{/* <Router>\n    <div>\n     <Navbar />\n    <Wrapper>\n     \n      <Switch>\n        <Route exact path=\"/\" component={Login} />\n        <Route exact path=\"/home\" component={Home} />\n        <Route exact path=\"/survey\" component={Survey} />\n        \n        <Route path=\"/movie/:info?\" component={Movie} />\n        <Route path=\"/:id\" component={Profile} />\n        \n       \n      </Switch>\n      <Switch>\n      \n      </Switch>\n    </Wrapper>\n    </div>\n  </Router> */}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n"],"sourceRoot":""}